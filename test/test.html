<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>tests</title>
</head>
<body>
  <div id="output"></div>
  <script>
  window.NOTIFY_LIGHTFOOT = []
  var messages = [
    { type: 'begin', totalTests: 2 },
    { type: 'testStart', name: 'a test test' },
    { type: 'log', result: true, message: 'assertion has passed', name: 'should work' },
    { type: 'testStart', name: 'another test' },
    { type: 'log', result: true, message: 'assertion has passed too', name: 'should work too' },
    { type: 'done', passed: 10, failed: 0 },
  ]
  function sendMessage() {
    var message = messages.shift()
    if (!message) return
    document.getElementById('output').innerHTML += JSON.stringify(message) + '<br/>'
    window.NOTIFY_LIGHTFOOT.push(message)
    setTimeout(sendMessage, 100)
  }
  sendMessage()
  </script>
</body>
</html>
